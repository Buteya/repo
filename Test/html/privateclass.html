<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- <meta http-equiv="X-UA-Compatible" content="IE=edge"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Private Class Feature In JavaScript</title>
</head>
<body>
    <script>
        //Syntax
        class ClassWithPrivate{
            #privateField;
            #privateFieldWithInitializer;

            #privateMethod(){
                //...
            }
            static #privateStaticField;
            static #privateStaticFieldWithInitializer;

            static #privateStaticMethod(){
                //...
            }
        }

        // class ClassWithPrivateField{
        //     #privateField;
        //     constructor(){
        //         this.#privateField = 42;
        //         delete this.#privateField;
        //         this.#undeclaredField = 444;
        //     }
        // }
        // const instance = new ClassWithPrivateField();
        // // instance.#privateField === 444;

        class C{
            #x;
            static getX(obj){
                return obj.#x;
            }
        }
        console.log(C.getX(new c()));
        console.log(C.getX({}));

        class ClassWithPrivateField{
            #privateField;
            constructor(){
                this.#privateField = 42;
            }
        }
        class SubClass extends ClassWithPrivateField{
            #subPrivateField;
            constructor(){
                super();
                this.#subPrivateField = 23;
            }
        }
        new SubClass();

        class Stamper extends class{
            //A base class where constructor returning the object its given
            constructor(){
                return obj;
            }
        }{
            //This declaration will "stamp" the private field onto the 
            //object returned by the base class constructor
            #stamp = 42;
            static getStamp(obj){
                return obj.#stamp;
            }
        }

        const obj = {};
        new Stamper(obj);
        //'Stamper' calls 'Base' which returns obj, so obj is
        //new the this value Stamper then defines #stamp on obj

        console.log(obj);
        console.log(Stamper.getStamp(obj));
        console.log(obj instanceof Stamper);
    </script>
</body>
</html>